import{_ as b,q as n,s as g,b as f,u as p,d as u,i as y,v as l,l as h}from"./index-BeKJ1EsM.js";const E={props:{plugin:{type:Object,required:!0},settings:{type:Object,required:!0}},emits:["update:settings"],computed:{securedPrompts(){return this.settings.privateData.securedPrompts||[]}},methods:{setSecuredPrompts(e){this.$emit("update:settings",{...this.settings,privateData:{...this.settings.privateData,securedPrompts:e}})},getNewItem(){return{id:wwLib.wwUtils.getUid()}},addVariable(e,t){const c=Math.max(...((e.content||"").match(/{{var\d+}}/g)||[]).map(a=>a.replace(/{{var(\d+)}}/g,"$1")).map(a=>parseInt(a)),0);t({...e,content:(e.content||"")+`{{var${c+1}}}`})}}},V=["onClick"],x={class:"flex items-center py-0 px-1"};function I(e,t,c,a,U,o){const i=n("wwEditorInputRow"),m=n("wwEditorIcon"),w=n("wwEditorInput"),v=n("wwEditorFormRow");return f(),g(i,{label:"Secured prompts",type:"array","model-value":o.securedPrompts,"onUpdate:modelValue":o.setSecuredPrompts,onAddItem:t[0]||(t[0]=r=>o.setSecuredPrompts([...o.securedPrompts,o.getNewItem()]))},{default:p(({item:r,index:_,setItem:s})=>[u("div",{class:y(["flex flex-col",{"border-top-primary pt-3":!!_}])},[l(i,{type:"query","model-value":r.title,label:"Title",placeholder:"Enter the title of the prompt",small:"",required:"","onUpdate:modelValue":d=>s({...r,title:d})},null,8,["model-value","onUpdate:modelValue"]),l(v,{label:"Content",required:""},{"append-label":p(()=>[u("button",{type:"button",class:"ww-editor-button -secondary -dark -small -no-padding ml-2",onClick:d=>o.addVariable(r,s)},[u("div",x,[l(m,{class:"ww-editor-button-icon -left",name:"plus",small:""}),t[1]||(t[1]=h(" Add variable "))])],8,V)]),default:p(()=>[l(w,{type:"string","model-value":r.content,placeholder:"Enter your secured prompt",required:"","onUpdate:modelValue":d=>s({...r,content:d})},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)],2)]),_:1},8,["model-value","onUpdate:modelValue"])}const P=b(E,[["render",I]]);export{P as default};
